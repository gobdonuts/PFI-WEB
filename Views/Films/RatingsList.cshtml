@model IEnumerable<MoviesManager.Models.RatingView>
<h1>Reviews</h1>
@{ var idFilm = ViewBag.idFilm;}
@Helper.FlashButton("Add/" + idFilm, "Films", "iconPlus", "Ajouter une critique", "left")
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Value)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Comment)
        </th>
        <th>
        </th>
        <th>
        </th>
        <th>
        </th>
    </tr>

    @foreach (var item in Model)
    {
<tr>


    <td>
        @Html.DisplayFor(modelItem => item.Value)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.Comment)
    </td>
    @if (MoviesManager.Models.OnlineUsers.GetSessionUser().Id == item.UserId)
    {
        <td style="vertical-align:middle">
            @Helper.FlashButton("EditComment/" + item.Id, "Films", "iconEdit", "Modifier", "left")
        </td>
        <td style="vertical-align:middle">
            @Helper.FlashButton("DeleteComment/" + item.Id, "Films", "iconDelete", "Effacer", "left")
        </td>
    }
    else
    {
        <td>

        </td>
    }
    @if (MoviesManager.Models.OnlineUsers.GetSessionUser().Admin && MoviesManager.Models.OnlineUsers.GetSessionUser().Id != item.UserId)
    {
        <td style="vertical-align:middle">
            @Helper.FlashButton("DeleteComment/" + item.Id, "Films", "iconDelete", "Effacer", "left")
        </td>
    }
    else
    {
        <td></td>
    }



</tr>
    }

</table>
